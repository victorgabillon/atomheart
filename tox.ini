[tox]
minversion = 4.30.2
envlist = py313, mypy, ruff, pyright
isolated_build = true

[gh-actions]
python =
    3.13: py313, mypy, ruff, pyright

[testenv]
# Install package with test dependencies
extras = test
commands =
    pytest {posargs}

[testenv:py313]
# Inherits from [testenv] by default
# Only add here if you need py313-specific config
basepython = python3.13


[testenv:mypy]
basepython = python3.13
description = Run type checking with mypy
extras = 
    test
    # or create a separate 'types' extra if you prefer
deps =
    mypy>=1.18.1
    types-PyYAML
commands =
    mypy src/atomheart {posargs}


[testenv:ruff]
basepython = python3.13
description = Run linting and formatting checks with ruff
deps =
    ruff>=0.12.11
commands =
    ruff check src tests {posargs}
    ruff format --check src tests {posargs}





[testenv:pyright]
description = Run type checking with pyright
deps =
    pyright>=1.1.406
    # Install your package dependencies so pyright can resolve them
extras = test
commands =
    pyright src/atomheart {posargs}